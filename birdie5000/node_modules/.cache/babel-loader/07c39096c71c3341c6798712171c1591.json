{"ast":null,"code":"import _defineProperty from \"/home/teepiik/projects/cgi2019/birdie5000/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/home/teepiik/projects/cgi2019/birdie5000/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/teepiik/projects/cgi2019/birdie5000/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/teepiik/projects/cgi2019/birdie5000/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/teepiik/projects/cgi2019/birdie5000/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/teepiik/projects/cgi2019/birdie5000/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/teepiik/projects/cgi2019/birdie5000/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/teepiik/projects/cgi2019/birdie5000/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/teepiik/projects/cgi2019/birdie5000/src/App.js\";\nimport React, { Component } from 'react'; //import logo from './logo.svg'; add img from src\n\nimport './App.css';\nimport observationService from './Services/observationService'; //import Menu from './components/Menu'\n\nimport { Link } from 'react-router-dom';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport ObsListing from './Components/obsListing';\nimport ObsForm from './Components/obsForm'; // import notification\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var getObs;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return observationService.getAll();\n\n            case 2:\n              getObs = _context.sent;\n\n              _this.setState({\n                observations: getObs\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.addObservation =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(observation) {\n        var addedObs;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return observationService.create(observation);\n\n              case 2:\n                addedObs = _context2.sent;\n\n                _this.setState({\n                  observations: _this.state.observations.concat(addedObs),\n                  message: \"you created: \".concat(addedObs.birdname)\n                });\n\n                setTimeout(function () {\n                  _this.setState({\n                    message: ''\n                  });\n                }, 5000);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.deleteObservation =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(observation) {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                result = window.confirm('Confirm delete');\n\n                if (!result) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _context3.next = 4;\n                return observationService.destroy(observation.id);\n\n              case 4:\n                _this.setState({\n                  observations: _this.state.observations.filter(function (obs) {\n                    return obs.id.toString() !== observation.id;\n                  }),\n                  message: 'Observation deleted'\n                });\n\n                setTimeout(function () {\n                  _this.setState({\n                    message: ''\n                  });\n                }, 5000);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.handleFieldChanges = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = {\n      observations: [],\n      message: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    // add filtering, change ul mapping\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Coming soon\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \" \", React.createElement(Link, {\n        to: \"/createobservation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Add new observation\"))), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(ObsListing, {\n            observation: _this2.state.observations,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/createobservation\",\n        render: function render(_ref4) {\n          var history = _ref4.history;\n          return React.createElement(ObsForm, {\n            history: history,\n            addObservation: _this2.addObservation,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/teepiik/projects/cgi2019/birdie5000/src/App.js"],"names":["React","Component","observationService","Link","BrowserRouter","Router","Route","ObsListing","ObsForm","App","componentDidMount","getAll","getObs","setState","observations","addObservation","observation","create","addedObs","state","concat","message","birdname","setTimeout","deleteObservation","result","window","confirm","destroy","id","filter","obs","toString","handleFieldChanges","event","target","name","value","history"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import logo from './logo.svg'; add img from src\nimport './App.css';\nimport observationService from './Services/observationService'\n//import Menu from './components/Menu'\nimport { Link } from 'react-router-dom'\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\nimport ObsListing from './Components/obsListing'\nimport ObsForm from './Components/obsForm'\n// import notification\n\nclass App extends Component {\n\nconstructor() {\n  super()\n  this.state = {\n    observations: [],\n    message: \"\"\n  }\n}\n\ncomponentDidMount = async () => {\n  const getObs = await observationService.getAll()\n  this.setState({\n    observations: getObs\n  })\n}\n\naddObservation = async (observation) => {\n  const addedObs = await observationService.create(observation)\n  this.setState({\n    observations: this.state.observations.concat(addedObs),\n    message: `you created: ${addedObs.birdname}`\n  })\n  setTimeout(() => {\n    this.setState({ message: '' })\n  }, 5000)\n    \n}\n\ndeleteObservation = async (observation) => {\n  const result = window.confirm('Confirm delete')\n  if (result) {\n    await observationService.destroy(observation.id)\n    this.setState({\n      observations: this.state.observations.filter(\n        obs => obs.id.toString() !== observation.id),\n        message: 'Observation deleted'\n    })\n    setTimeout(() => {\n      this.setState({ message: '' })\n    }, 5000)\n  }\n}\n\nhandleFieldChanges = (event) => {\n  this.setState({ [event.target.name]: event.target.value })\n}\n  // add filtering, change ul mapping\n  render() {\n\n    return (\n      <div>\n        <Router>\n\n        <header className=\"App-header\">\n          <p>\n            Coming soon\n          </p>\n          <div> <Link to={`/createobservation`}>Add new observation</Link></div>\n        </header>\n        <Route exact path=\"/\" render={() => <ObsListing observation={this.state.observations} />} /> \n        <Route exact path=\"/createobservation\" render={({ history }) => <ObsForm history={history} addObservation={this.addObservation} />}/>\n        \n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}